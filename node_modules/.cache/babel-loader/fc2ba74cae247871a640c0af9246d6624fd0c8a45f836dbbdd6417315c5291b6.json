{"ast":null,"code":"var _jsxFileName = \"/Users/gavinappi-fy/healthcare-chat-frontend/src/components/DocumentPreview/DocumentPreview.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAppContext } from '../../App';\nimport { FiSearch, FiFileText } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DocumentPreview() {\n  _s();\n  const {\n    documents\n  } = useAppContext();\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const mockContent = `Discharge Summary\n\nPage 1:\nPatient diagnosed with Type 2 Diabetes Mellitus.\nNo known drug allergies.\n\nPage 2:\nMedications: Lisinopril 10mg daily, Atorvastatin 20mg nightly.\nTreatment plan: medication management, diabetic diet, follow-up in 2 weeks.\n\nPage 3:\nLab results: HbA1c 7.2%, LDL 110 mg/dL.`;\n  useEffect(() => {\n    if (documents.length > 0 && !selectedDoc) {\n      setSelectedDoc(documents[0]);\n    }\n  }, [documents, selectedDoc]);\n  const handleSearch = () => {\n    if (!searchQuery.trim()) {\n      setResults([]);\n      return;\n    }\n    const lines = mockContent.split('\\n');\n    const matches = lines.map((line, i) => ({\n      line: i + 1,\n      text: line,\n      highlighted: line.replace(new RegExp(`(${searchQuery})`, 'gi'), '<mark class=\"bg-yellow-200\">$1</mark>')\n    })).filter(item => item.text.toLowerCase().includes(searchQuery.toLowerCase()));\n    setResults(matches);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg border h-full flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-b\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-medium text-gray-800\",\n        children: \"Document Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), documents.length > 1 && /*#__PURE__*/_jsxDEV(\"select\", {\n        value: (selectedDoc === null || selectedDoc === void 0 ? void 0 : selectedDoc.id) || '',\n        onChange: e => {\n          const doc = documents.find(d => d.id === e.target.value);\n          setSelectedDoc(doc);\n        },\n        className: \"mt-2 w-full p-2 text-sm border rounded\",\n        children: documents.map(doc => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: doc.id,\n          children: doc.name\n        }, doc.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-b flex gap-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search in document...\",\n        value: searchQuery,\n        onChange: e => setSearchQuery(e.target.value),\n        className: \"flex-1 px-2 py-1 text-sm border rounded\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSearch,\n        className: \"bg-gray-100 p-1 rounded hover:bg-gray-200\",\n        \"aria-label\": \"Search\",\n        children: /*#__PURE__*/_jsxDEV(FiSearch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4 text-sm\",\n      children: searchQuery ? results.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-2\",\n          children: [\"Found \", results.length, \" result(s):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), results.map((res, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 p-2 bg-gray-50 rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xs text-gray-500\",\n            children: [\"Line \", res.line]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: res.highlighted\n            },\n            className: \"mt-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 19\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: \"No results found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 text-gray-600 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(FiFileText, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: (selectedDoc === null || selectedDoc === void 0 ? void 0 : selectedDoc.name) || 'No document'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"whitespace-pre-wrap text-gray-800 font-sans text-xs\",\n          children: selectedDoc ? mockContent : 'Upload a document to preview.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(DocumentPreview, \"4h29/UL9Igr5A9hDX8VtrLbCcvM=\", false, function () {\n  return [useAppContext];\n});\n_c = DocumentPreview;\nvar _c;\n$RefreshReg$(_c, \"DocumentPreview\");","map":{"version":3,"names":["React","useState","useEffect","useAppContext","FiSearch","FiFileText","jsxDEV","_jsxDEV","DocumentPreview","_s","documents","selectedDoc","setSelectedDoc","searchQuery","setSearchQuery","results","setResults","mockContent","length","handleSearch","trim","lines","split","matches","map","line","i","text","highlighted","replace","RegExp","filter","item","toLowerCase","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","id","onChange","e","doc","find","d","target","name","type","placeholder","onClick","res","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["/Users/gavinappi-fy/healthcare-chat-frontend/src/components/DocumentPreview/DocumentPreview.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAppContext } from '../../App';\nimport { FiSearch, FiFileText } from 'react-icons/fi';\n\nexport default function DocumentPreview() {\n  const { documents } = useAppContext();\n  const [selectedDoc, setSelectedDoc] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [results, setResults] = useState([]);\n\n  const mockContent = `Discharge Summary\n\nPage 1:\nPatient diagnosed with Type 2 Diabetes Mellitus.\nNo known drug allergies.\n\nPage 2:\nMedications: Lisinopril 10mg daily, Atorvastatin 20mg nightly.\nTreatment plan: medication management, diabetic diet, follow-up in 2 weeks.\n\nPage 3:\nLab results: HbA1c 7.2%, LDL 110 mg/dL.`;\n\n  useEffect(() => {\n    if (documents.length > 0 && !selectedDoc) {\n      setSelectedDoc(documents[0]);\n    }\n  }, [documents, selectedDoc]);\n\n  const handleSearch = () => {\n    if (!searchQuery.trim()) {\n      setResults([]);\n      return;\n    }\n    const lines = mockContent.split('\\n');\n    const matches = lines\n      .map((line, i) => ({\n        line: i + 1,\n        text: line,\n        highlighted: line.replace(\n          new RegExp(`(${searchQuery})`, 'gi'),\n          '<mark class=\"bg-yellow-200\">$1</mark>'\n        ),\n      }))\n      .filter(item => item.text.toLowerCase().includes(searchQuery.toLowerCase()));\n    setResults(matches);\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg border h-full flex flex-col\">\n      <div className=\"p-3 border-b\">\n        <h3 className=\"font-medium text-gray-800\">Document Preview</h3>\n        {documents.length > 1 && (\n          <select\n            value={selectedDoc?.id || ''}\n            onChange={(e) => {\n              const doc = documents.find(d => d.id === e.target.value);\n              setSelectedDoc(doc);\n            }}\n            className=\"mt-2 w-full p-2 text-sm border rounded\"\n          >\n            {documents.map(doc => (\n              <option key={doc.id} value={doc.id}>{doc.name}</option>\n            ))}\n          </select>\n        )}\n      </div>\n\n      <div className=\"p-3 border-b flex gap-2\">\n        <input\n          type=\"text\"\n          placeholder=\"Search in document...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"flex-1 px-2 py-1 text-sm border rounded\"\n        />\n        <button\n          onClick={handleSearch}\n          className=\"bg-gray-100 p-1 rounded hover:bg-gray-200\"\n          aria-label=\"Search\"\n        >\n          <FiSearch />\n        </button>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-4 text-sm\">\n        {searchQuery ? (\n          results.length > 0 ? (\n            <div>\n              <p className=\"text-gray-600 mb-2\">Found {results.length} result(s):</p>\n              {results.map((res, i) => (\n                <div key={i} className=\"mb-2 p-2 bg-gray-50 rounded\">\n                  <span className=\"text-xs text-gray-500\">Line {res.line}</span>\n                  <div dangerouslySetInnerHTML={{ __html: res.highlighted }} className=\"mt-1\" />\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"text-gray-500\">No results found.</p>\n          )\n        ) : (\n          <div>\n            <div className=\"flex items-center gap-2 text-gray-600 mb-2\">\n              <FiFileText />\n              <span>{selectedDoc?.name || 'No document'}</span>\n            </div>\n            <pre className=\"whitespace-pre-wrap text-gray-800 font-sans text-xs\">\n              {selectedDoc ? mockContent : 'Upload a document to preview.'}\n            </pre>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,aAAa,QAAQ,WAAW;AACzC,SAASC,QAAQ,EAAEC,UAAU,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtD,eAAe,SAASC,eAAeA,CAAA,EAAG;EAAAC,EAAA;EACxC,MAAM;IAAEC;EAAU,CAAC,GAAGP,aAAa,CAAC,CAAC;EACrC,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACY,WAAW,EAAEC,cAAc,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMgB,WAAW,GAAG;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;EAEtCf,SAAS,CAAC,MAAM;IACd,IAAIQ,SAAS,CAACQ,MAAM,GAAG,CAAC,IAAI,CAACP,WAAW,EAAE;MACxCC,cAAc,CAACF,SAAS,CAAC,CAAC,CAAC,CAAC;IAC9B;EACF,CAAC,EAAE,CAACA,SAAS,EAAEC,WAAW,CAAC,CAAC;EAE5B,MAAMQ,YAAY,GAAGA,CAAA,KAAM;IACzB,IAAI,CAACN,WAAW,CAACO,IAAI,CAAC,CAAC,EAAE;MACvBJ,UAAU,CAAC,EAAE,CAAC;MACd;IACF;IACA,MAAMK,KAAK,GAAGJ,WAAW,CAACK,KAAK,CAAC,IAAI,CAAC;IACrC,MAAMC,OAAO,GAAGF,KAAK,CAClBG,GAAG,CAAC,CAACC,IAAI,EAAEC,CAAC,MAAM;MACjBD,IAAI,EAAEC,CAAC,GAAG,CAAC;MACXC,IAAI,EAAEF,IAAI;MACVG,WAAW,EAAEH,IAAI,CAACI,OAAO,CACvB,IAAIC,MAAM,CAAC,IAAIjB,WAAW,GAAG,EAAE,IAAI,CAAC,EACpC,uCACF;IACF,CAAC,CAAC,CAAC,CACFkB,MAAM,CAACC,IAAI,IAAIA,IAAI,CAACL,IAAI,CAACM,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACrB,WAAW,CAACoB,WAAW,CAAC,CAAC,CAAC,CAAC;IAC9EjB,UAAU,CAACO,OAAO,CAAC;EACrB,CAAC;EAED,oBACEhB,OAAA;IAAK4B,SAAS,EAAC,iDAAiD;IAAAC,QAAA,gBAC9D7B,OAAA;MAAK4B,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B7B,OAAA;QAAI4B,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EAAC;MAAgB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC9D9B,SAAS,CAACQ,MAAM,GAAG,CAAC,iBACnBX,OAAA;QACEkC,KAAK,EAAE,CAAA9B,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE+B,EAAE,KAAI,EAAG;QAC7BC,QAAQ,EAAGC,CAAC,IAAK;UACf,MAAMC,GAAG,GAAGnC,SAAS,CAACoC,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACL,EAAE,KAAKE,CAAC,CAACI,MAAM,CAACP,KAAK,CAAC;UACxD7B,cAAc,CAACiC,GAAG,CAAC;QACrB,CAAE;QACFV,SAAS,EAAC,wCAAwC;QAAAC,QAAA,EAEjD1B,SAAS,CAACc,GAAG,CAACqB,GAAG,iBAChBtC,OAAA;UAAqBkC,KAAK,EAAEI,GAAG,CAACH,EAAG;UAAAN,QAAA,EAAES,GAAG,CAACI;QAAI,GAAhCJ,GAAG,CAACH,EAAE;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAmC,CACvD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACI,CACT;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,eAENjC,OAAA;MAAK4B,SAAS,EAAC,yBAAyB;MAAAC,QAAA,gBACtC7B,OAAA;QACE2C,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,uBAAuB;QACnCV,KAAK,EAAE5B,WAAY;QACnB8B,QAAQ,EAAGC,CAAC,IAAK9B,cAAc,CAAC8B,CAAC,CAACI,MAAM,CAACP,KAAK,CAAE;QAChDN,SAAS,EAAC;MAAyC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpD,CAAC,eACFjC,OAAA;QACE6C,OAAO,EAAEjC,YAAa;QACtBgB,SAAS,EAAC,2CAA2C;QACrD,cAAW,QAAQ;QAAAC,QAAA,eAEnB7B,OAAA,CAACH,QAAQ;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAENjC,OAAA;MAAK4B,SAAS,EAAC,oCAAoC;MAAAC,QAAA,EAChDvB,WAAW,GACVE,OAAO,CAACG,MAAM,GAAG,CAAC,gBAChBX,OAAA;QAAA6B,QAAA,gBACE7B,OAAA;UAAG4B,SAAS,EAAC,oBAAoB;UAAAC,QAAA,GAAC,QAAM,EAACrB,OAAO,CAACG,MAAM,EAAC,aAAW;QAAA;UAAAmB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,EACtEzB,OAAO,CAACS,GAAG,CAAC,CAAC6B,GAAG,EAAE3B,CAAC,kBAClBnB,OAAA;UAAa4B,SAAS,EAAC,6BAA6B;UAAAC,QAAA,gBAClD7B,OAAA;YAAM4B,SAAS,EAAC,uBAAuB;YAAAC,QAAA,GAAC,OAAK,EAACiB,GAAG,CAAC5B,IAAI;UAAA;YAAAY,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAC9DjC,OAAA;YAAK+C,uBAAuB,EAAE;cAAEC,MAAM,EAAEF,GAAG,CAACzB;YAAY,CAAE;YAACO,SAAS,EAAC;UAAM;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA,GAFtEd,CAAC;UAAAW,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAGN,CACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CAAC,gBAENjC,OAAA;QAAG4B,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAAiB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAClD,gBAEDjC,OAAA;QAAA6B,QAAA,gBACE7B,OAAA;UAAK4B,SAAS,EAAC,4CAA4C;UAAAC,QAAA,gBACzD7B,OAAA,CAACF,UAAU;YAAAgC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACdjC,OAAA;YAAA6B,QAAA,EAAO,CAAAzB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEsC,IAAI,KAAI;UAAa;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC,eACNjC,OAAA;UAAK4B,SAAS,EAAC,qDAAqD;UAAAC,QAAA,EACjEzB,WAAW,GAAGM,WAAW,GAAG;QAA+B;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/B,EAAA,CA9GuBD,eAAe;EAAA,QACfL,aAAa;AAAA;AAAAqD,EAAA,GADbhD,eAAe;AAAA,IAAAgD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}